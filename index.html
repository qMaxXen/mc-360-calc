<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minecraft 360 Calculator</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#60a5fa;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    html, body {  height: 100%;  min-height: 100%;  margin: 0;  font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, 'Helvetica Neue', Arial;  background: linear-gradient(180deg,#020617 0%, #07102a 100%);  background-attachment: fixed;}

    body{background:linear-gradient(180deg,#020617 0%, #07102a 100%);color:#e6eef8;display:flex;align-items:flex-start;justify-content:center;padding:28px;overflow:auto}
    html, body { scrollbar-width: none; -ms-overflow-style: none; }
    body::-webkit-scrollbar { display: none; }

    .card{background:var(--card);border-radius:12px;padding:20px;width:820px;max-width:96%;box-shadow:0 6px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 10px;font-size:20px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input,select{width:100%;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;font-size:14px}
    #mcSens {
  width: calc(100% - 20px);}
    #dpi {
  width: calc(100% - 20px);}
    .results{margin-top:14px;display:flex;gap:12px;flex-wrap:wrap}
    .result{flex:1 1 200px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:10px}
    .small{font-size:12px;color:var(--muted)}
    button{background:var(--accent);border:none;color:#04233a;padding:8px 10px;border-radius:8px;cursor:pointer}
    .footer{margin-top:14px;font-size:13px;color:var(--muted)}
    .muted{color:var(--muted)}
    .row-inline{display:flex;gap:8px;align-items:center}
    .slider-value{min-width:40px;text-align:center}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Minecraft 360 Calculator</h1>
    <p class="small">Enter your <strong>Minecraft sens</strong> (from <code>options.txt</code>), <strong>DPI</strong>, and <strong>Windows Sens</strong>. The page calculates <em>in/360</em> and <em>cm/360</em>.</p>

    <div class="grid" style="margin-top:12px">
      <div>
        <label for="mcSens">Minecraft sens (from options.txt)</label>
        <input id="mcSens" inputmode="decimal" placeholder="e.g. 0.5" />
      </div>

      <div>
        <label for="dpi">DPI</label>
        <input id="dpi" inputmode="numeric" placeholder="e.g. 1000" />
      </div>

      <div>
        <label for="winSens">Windows Sens (1–20)</label>
        <div class="row-inline">
          <input id="winSens" type="range" min="1" max="20" value="10" />
          <div class="slider-value small" id="winVal">10</div>
        </div>
      </div>

      <div>
        <label>&nbsp;</label>
        <div style="display:flex;gap:8px">
          <button id="copyBtn">Copy results</button>
          <button id="resetBtn" style="background:#ef4444;color:white">Reset</button>
        </div>
      </div>
    </div>

    <div class="results" id="results">
      <div class="result">
        <div class="small">in / 360</div>
        <div id="in360" style="font-size:20px;font-weight:600">—</div>
      </div>
      <div class="result">
        <div class="small">cm / 360</div>
        <div id="cm360" style="font-size:20px;font-weight:600">—</div>
      </div>
      <div class="result">
        <div class="small">Minecraft percent</div>
        <div id="mcPercent" style="font-size:18px;font-weight:600">—</div>
      </div>
      <div class="result">
        <div class="small">Cursor sensitivity</div>
        <div id="cursorSens" style="font-size:16px;font-weight:600">—</div>
      </div>
    </div>

    <div class="footer">
      <strong>Notes:</strong> The formulas implemented are:
      <pre class="small muted" style="margin:8px 0;padding:8px;background:rgba(255,255,255,0.02);border-radius:8px">in/360 = TRUNC(360 / (degreesPerCount * DPI), 2)
cm/360 = in/360 * 2.54
mc percent = TRUNC((mcSens * 2) * 100, 0) + "%"
cursor sens = (lookup multiplier for Windows Sens) * DPI

These formulas are made by r0hkx.</pre>

    </div>
  </main>

<script>
function safeNum(v){ if (v===null || v===undefined) return NaN; const s = String(v).trim(); if (s==='') return NaN; return Number(s); }
function truncTo(n, d){ if (!isFinite(n)) return NaN; const p = Math.pow(10, d); return Math.trunc(n * p) / p; }

const defaultLookup = [null, 0.10, 0.12, 0.125, 0.14, 0.16, 0.18, 0.20, 0.22, 0.24, 0.26, 0.28, 0.30, 0.32, 0.34, 0.36, 0.38, 0.40, 0.42, 0.44, 0.46];
let lookup = defaultLookup.slice();

const mcSensInput = document.getElementById('mcSens');
const dpiInput = document.getElementById('dpi');
const winRange = document.getElementById('winSens');
const winVal = document.getElementById('winVal');
const in360El = document.getElementById('in360');
const cm360El = document.getElementById('cm360');
const mcPercEl = document.getElementById('mcPercent');
const cursorEl = document.getElementById('cursorSens');
const copyBtn = document.getElementById('copyBtn');
const resetBtn = document.getElementById('resetBtn');

function compute(){
  const mc = safeNum(mcSensInput.value);
  const dpi = safeNum(dpiInput.value);
  const win = safeNum(winRange.value);

  if (!isFinite(mc) || !isFinite(dpi)){
    in360El.textContent = '—'; cm360El.textContent = '—'; mcPercEl.textContent = '—'; cursorEl.textContent = '—';
    return;
  }

  const degreesPerCount = Math.pow(mc * 0.6 + 0.2, 3) * 1.2;
  const countsPer360 = 360 / (degreesPerCount * dpi);
  const in360 = truncTo(countsPer360, 2);
  const cm360 = truncTo(countsPer360 * 2.54, 2);

  in360El.textContent = isFinite(in360) ? in360.toFixed(2) : '—';
  cm360El.textContent = isFinite(cm360) ? cm360.toFixed(2) : '—';
  mcPercEl.textContent = (isFinite(mc) ? (Math.trunc((mc * 2) * 100) + '%') : '—');

  let multiplier = NaN;
  if (isFinite(win) && Number.isInteger(win) && win >=1 && win <= 20){
    multiplier = lookup[win];
  }
  const cursorVal = isFinite(multiplier) && isFinite(dpi) ? truncTo(multiplier * dpi, 2) : NaN;
  cursorEl.textContent = isFinite(cursorVal) ? cursorVal.toFixed(2) : '—';
}

mcSensInput.addEventListener('input', compute);
dpiInput.addEventListener('input', compute);
winRange.addEventListener('input', (e)=>{ winVal.textContent = e.target.value; compute(); });
copyBtn.addEventListener('click', ()=>{
  const text = `mcSens=${mcSensInput.value || ''}\nDPI=${dpiInput.value || ''}\nWindowsSens=${winRange.value || ''}\nin/360=${in360El.textContent}\ncm/360=${cm360El.textContent}\nmc%=${mcPercEl.textContent}\ncursorSens=${cursorEl.textContent}`;
  navigator.clipboard && navigator.clipboard.writeText(text).then(()=>{ copyBtn.textContent='Copied'; setTimeout(()=>copyBtn.textContent='Copy results',900); });
});
resetBtn.addEventListener('click', ()=>{ mcSensInput.value=''; dpiInput.value=''; winRange.value='10'; winVal.textContent='10'; lookup = defaultLookup.slice(); compute(); });

winRange.value = '10'; winVal.textContent='10'; mcSensInput.value=''; dpiInput.value=''; compute();
</script>
</body>
</html>
